<!DOCTYPE html>
<html>
<head>
  <title>Ricerca nel mio sito</title>
    <style>
    body {
      color: #fff;
    }

    .search-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #2b2b2b;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .search-input {
      width: 100%;
      padding: 15px;
      font-size: 20px;
      border: none;
      border-radius: 5px;
      margin-bottom: 10px;
      background-color: #333;
      color: #fff;
    }

    .search-results {
      margin-top: 20px;
    }

    .result-item {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .result-image {
      width: 120px;
      height: 160px;
      margin-right: 10px;
      object-fit: cover;
      border-radius: 5px;
    }

    .result-details {
      flex-grow: 1;
    }

    .result-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 5px;
      color: #fff;
    }

    .result-description {
      font-size: 14px;
    }

    /* Stile link */
    .result-title a {
      color: inherit;
      text-decoration: none;
    }

    /* Hover link */
    .result-title a:hover {
      color: #ff7600;
    }
    
    /* Lightbox link class */
    .lightbox-link {
      cursor: pointer;
    }
  </style>
  
  <script>
    // Definisci l'array dei contenuti del tuo sito con locandine
    var contenuti = [
      {
        titolo: "John Wick 4",
        descrizione: "Azione, Thriller, Crime 2h 49m",
        url: "pagina1.html",
        locandina: "https://www.themoviedb.org/t/p/w1280/dWYBAQwinApRXFWZQcA31ddbaXW.jpg",
        lightbox: true
      },
      {
        titolo: "Contenuto 2",
        descrizione: "Questo è il contenuto 2 del mio sito.",
        url: "pagina2.html",
        locandina: "locandina2.jpg",
        lightbox: false
      },
      {
        titolo: "Contenuto 3",
        descrizione: "Questo è il contenuto 3 del mio sito.",
        url: "pagina3.html",
        locandina: "locandina3.jpg",
        lightbox: true
      }
      // Aggiungi altri contenuti se necessario
    ];

    // Funzione per eseguire la ricerca
    function search() {
      var searchTerm = document.getElementById("search-input").value.toLowerCase();
      var resultsContainer = document.getElementById("search-results");
      resultsContainer.innerHTML = ""; // Cancella i risultati precedenti

      if (searchTerm.length === 0) {
        // Se la barra di ricerca è vuota, esci dalla funzione
        return;
      }

      // Itera sui contenuti e cerca corrispondenze
      for (var i = 0; i < contenuti.length; i++) {
        var contenuto = contenuti[i];
        var titolo = contenuto.titolo.toLowerCase();
        var descrizione = contenuto.descrizione.toLowerCase();

        if (titolo.includes(searchTerm) || descrizione.includes(searchTerm)) {
          // Mostra il risultato nella pagina con locandina
          var resultItem = document.createElement("div");
          resultItem.className = "result-item";

          var image = document.createElement("img");
          image.src = contenuto.locandina;
          image.alt = contenuto.titolo;
          image.className = "result-image";
          resultItem.appendChild(image);

          var details = document.createElement("div");
          details.className = "result-details";

          var titleLink = document.createElement("a");
          titleLink.href = contenuto.url;
          titleLink.textContent = contenuto.titolo;
          titleLink.className = "result-title";
          
          // Check if the link should open in a lightbox
          if (contenuto.lightbox) {
           
            titleLink.setAttribute("data-lity", "");
          }
          
          details.appendChild(titleLink);

          var description = document.createElement("p");
          description.textContent = contenuto.descrizione;
          description.className = "result-description";
          details.appendChild(description);

          resultItem.appendChild(details);
          resultsContainer.appendChild(resultItem);
        }
      }
      
      // Attach the click event handler for lightbox links
      var lightboxLinks = document.getElementsByClassName("lightbox-link");
      for (var j = 0; j < lightboxLinks.length; j++) {
        lightboxLinks[j].addEventListener("click", function(event) {
          event.preventDefault();
          var url = this.getAttribute("href");
          lity(url);
        });
      }
    }
  </script>
</head>
<body>
  <div class="search-container">
    <input type="text" id="search-input" class="search-input" placeholder="Cerca il tuo contenuto da vedere subito..." oninput="search()">
    <div id="search-results" class="search-results"></div>
  </div>
</body>
</html>